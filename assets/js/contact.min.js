$(document).ready(function(){function t(){f.validator().on("submit",e),b.on("change",n),createCaptcha()}function e(t){if(!t.isDefaultPrevented()&&(t.preventDefault(),n()&&i())){var e=r("uggcf://zl.fraqvaoyhr.pbz/hfref/fhofpevorrzorq/wf_vq/2ldcb/vq/3"),c=f.serialize();d(),s(!0);var u={url:e,data:c,dataType:"json",type:"POST",success:a};$.ajax(u)}}function a(t){s(!1);var e="Unbekannter Fehler";if(!t||!t.result||!t.result.result)return void o(e);var a=t.result.result;return"success"===a?(c(),void u()):("emailExist"===a?e=p.data("exists"):"invalidCaptcha"===a&&(e=g.data("invalid")),void o(e))}function n(){var t=b.val();return 0==t?(m.slideDown(),!1):(m.slideUp(),!0)}function i(){var t=grecaptcha.getResponse();return!!t.length||(w.slideDown(),!1)}function s(t){v.attr("disabled",t),h.attr("disabled",t),t?(D.fadeIn(),q.fadeOut()):(D.fadeOut(),q.fadeIn())}function c(){dataLayer.push({event:"tnw_contact_form",status:"submitted"})}function u(){z.show(),v.hide(),h.hide(),g.hide(),y.hide()}function o(t){x.html(t),x.slideDown()}function d(){x.slideUp()}var l="#contact-form",f=$(l),v=$(l+" :input"),h=$(l+" select"),p=$(l+" .email"),b=$(l+" .topic-selector"),m=$(l+" .with-errors.topic"),g=$(l+" .gcaptcha"),w=$(l+" .with-errors.captcha"),y=$(l+" .btn-submit"),D=$(l+" .btn-submit .spinner"),q=$(l+" .btn-submit .text"),x=$(l+" .alert-danger"),z=$(l+" .alert-success");t()});